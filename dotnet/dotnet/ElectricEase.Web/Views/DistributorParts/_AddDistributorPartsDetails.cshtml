@model ElectricEase.Models.Parts_DetailsInfo
@{
    ViewBag.Title = "_AddDistributorPartsDetails";
}
<div id="collapseOne" class="panel-collapse collapse in">

    @Html.ValidationSummary(true)
    <div class="row">
        <div class="col-md-12">
            <div class="panel panel-default">
                <div class="panel-body">
                    <div class="ajax-refresh2">


                        <div class="panel-body">
                            <input type="hidden" value="@ViewBag.LoginUser" id="loguser" />  
                                <div class="row-fluid">
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label for="title"><strong>Distributor Name <span class="err">*</span>:</strong></label>
                                            <input type="hidden" value="Admin" id="IsAdmin" />
                                            <span id="ClietName_Errmsg" class="error"></span>
                                            @if (Model.Part_Number == null)
                                            {
                                                @Html.DropDownListFor(m => m.DistributorID, ViewBag.Distributor as SelectList, "Select", new { Name = "Client_ID", @class = "form-control selectpicker", onchange = "GetMyPartsCatgory(this);" })
                                            }
                                            else
                                            {
                                                @Html.DropDownListFor(m => m.DistributorID, ViewBag.Distributor as SelectList, "Select", new { Name = "Client_ID", @class = "form-control selectpicker", disabled = "disabled" })
                                            } 
                                        </div>
                                    </div>
                                </div>  
                            <div class="row-fluid">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="label"><strong>Category<span class="err">*</span>:</strong></label>
                                        <span id="Category_errmsg" class="error"></span>
                                        @*@if (HttpContext.Current.User.IsInRole("Admin"))
                                        {
                                            if (Model.Part_Number != "" && Model.Part_Number != null)
                                            {
                                                @Html.DropDownListFor(m => m.Part_Category, ViewBag.PartCategory as SelectList, "Select", new { Name = "Part_Category", @class = "form-control", data_type = "other", onchange = "ShowOtherCategory(this.value);" })
                                            }
                                            else
                                            {
                                                @Html.DropDownListFor(m => m.Part_Category, ViewBag.PartCategory as SelectList, "Select", new { Name = "Part_Category", @class = "form-control", data_type = "other", onchange = "ShowOtherCategory(this.value);", disabled = "disabled" })
                                            }

                                        }
                                        else
                                        {*@
                                            @Html.DropDownListFor(m => m.Part_Category, ViewBag.PartCategory as SelectList, "Select", new { Name = "Part_Category", @class = "form-control selectpicker", data_type = "other", onchange = "ShowOtherCategory(this.value);" })
                                        @* } *@

                                    </div>
                                </div>
                            </div>
                            <div class="row-fluid">
                                <div class="col-md-4">

                                    <div class="form-group">
                                        <label for="label"><strong>If Other Category :</strong></label>
                                        @Html.TextBoxFor(m => m.OtherPart_Category, new { @class = "form-control", @maxlength = "50", @placeholder = "", disabled = "disabled" })
                                    </div>
                                </div>
                            </div>
                            <div class="row-fluid">
                                <div class="col-md-4">

                                    <div class="form-group">
                                        <label for="label"><strong>Part Number <span class="err">*</span>:</strong></label>
                                        @if (Model.Part_Number == null || Model.Part_Number == "")
                                        {
                                            @Html.TextBoxFor(m => m.Part_Number, new { @class = "form-control", @maxlength = "50", @placeholder = "Part Number", onchange = "partnameValidate(this);" })
                                            <span class="err" id="partnumsg"></span>
                                        }
                                        else
                                        {
                                            @Html.TextBoxFor(m => m.Part_Number, new { @class = "form-control", @maxlength = "50", @placeholder = "Part Number", disabled = "disabled" })
                                        }

                                        <span id="PartNumber_errmsg" class="error"></span>
                                        @Html.ValidationMessageFor(m => m.Part_Number)
                                    </div>
                                </div>
                            </div>
                            <div class="row-fluid">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="label"><strong>My Cost  <span class="err">*</span>:</strong></label>
                                        @if (Model.Cost == 0 || Model.Cost == 0.00M)
                                        {
                                            <input type="text" value="0" id="Cost" class="form-control" readonly maxlength="8" placeholder="0.00" style="text-align:right" onkeyup="checknum(this);" />
                                        }
                                        else
                                        {
                                            @Html.TextBoxFor(m => m.Cost, new { @class = "form-control", @maxlength = "8", value = "0", @placeholder = "0.00", style = "text-align:right", onkeyup = "checknum(this);", @disabled = "disabled" })
                                        }
                                        <span id="errmsg" class="error"></span>
                                        @*@Html.ValidationMessageFor(m => m.Cost)*@
                                        @*<input type="text" class="form-control" name="MyCost" id="IPurchaseRate" maxlength="8" placeholder="0.00" tabindex="5" onkeypress="return numbersonly(event)" style="text-align: right;">*@
                                    </div>
                                </div>


                            </div>
                            <div class="row-fluid">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="label"><strong>UOM :</strong></label>
                                        @Html.TextBoxFor(m => m.UOM, new { @class = "form-control", @maxlength = "150", @placeholder = "Unit of measurement" })
                                        @*<input type="text" class="form-control" name="PurchasedFrom" id="Ipurchasefrom" autofocus maxlength="50" placeholder="Purchased from" tabindex="1" onkeypress="return onKeyValidate(event,alphanumeric);">*@
                                    </div>
                                </div>
                            </div>
                            <div class="row-fluid">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="label"><strong>Resale <span class="err">*</span>:</strong></label>
                                        @if (Model.Resale_Cost == 0 || Model.Resale_Cost == 0.00M)
                                        {
                                            <input type="text" class="form-control" value="0" maxlength="8" placeholder="0.00" readonly id="Rcost" style="text-align:right" onkeyup="checknum(this);"  />
                                        }
                                        else
                                        {
                                            @Html.TextBoxFor(m => m.Resale_Cost, new { @class = "form-control", @maxlength = "8", value = "0", @placeholder = "0.00", @id = "Rcost", style = "text-align:right", onkeyup = "checknum(this);", @disabled= "disabled" })
                                        }
                                        <span id="RCosterrmsg" class="error"></span>
                                        @*@Html.ValidationMessageFor(m => m.Resale_Cost)*@
                                        @*<input type="text" class="form-control" name="ResaleCost" id="IPurchaseRate" maxlength="8" placeholder="0.00" tabindex="5" onkeypress="return numbersonly(event)" style="text-align: right;">*@
                                    </div>
                                </div>
                            </div>

                            <div class="row-fluid">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="label"><strong>Purchased From :</strong></label>
                                        @Html.TextBoxFor(m => m.Purchased_From, new { @class = "form-control", @maxlength = "500", @placeholder = "Purchased from" })
                                        @*<input type="text" class="form-control" name="PurchasedFrom" id="Ipurchasefrom" autofocus maxlength="50" placeholder="Purchased from" tabindex="1" onkeypress="return onKeyValidate(event,alphanumeric);">*@
                                    </div>
                                </div>
                            </div> 
                            <div class="row-fluid">
                                <div class="col-sm-4">
                                    <div class="form-group">

                                        <label for="title"><strong>My Description :</strong></label>
                                        @Html.TextAreaFor(m => m.Description, new { @class = "form-control", @maxlength = "1000" })
                                        @Html.ValidationMessageFor(m => m.Description)
                                        @*<textarea rows="3" class="form-control" name="MYDescription" id="IDescription" tabindex="6" maxlength="75" onkeypress="return onKeyValidate(event,alphanumeric);"></textarea>*@

                                    </div>
                                </div>


                            </div>
                            <div class="row-fluid">
                                <div class="col-sm-5">
                                    <div class="form-group">
                                        <label for="title"><strong>Client Description :</strong></label>
                                        @Html.TextAreaFor(m => m.Client_Description, new { @class = "form-control", @maxlength = "1000" })
                                        @Html.ValidationMessageFor(m => m.Client_Description)
                                        @*<textarea rows="3" class="form-control" name="ClientDescription" id="ClientDescription" tabindex="6" maxlength="75" onkeypress="return onKeyValidate(event,alphanumeric);"></textarea>*@
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class="panel-footer clearfix">
                            @if (ViewBag.distcompany == -1)
                            {
                                <div class="pull-left">
                                    <input type="button" value="Download Template" class="btn btn-flat btn-primary btn-sm" style="background-color: #3276b1" id="downloadtemp" onclick="window.open('../Distributor_Parts_Data_Template.xlsx')" />
                                    <input type="file" id="importfile" style="display: none" onchange="ImportParts()" accept=".xls,.xlsx" />
                                    <input type="button" id="btnimport" class="btn btn-flat btn-primary btn-sm" style="background-color: #3276b1" value="Import Parts" onclick="confirmImport();" />

                                </div>
                            }
                            else if (HttpContext.Current.User.IsInRole("Admin"))
                            {
                                <div class="pull-left">
                                    <input type="button" value="Download Template" class="btn btn-flat btn-primary btn-sm" style="background-color: #3276b1" id="downloadtemp" onclick="window.open('../Distributor_Parts_Data_Template.xlsx')" />
                                    <input type="file" id="importfile" style="display: none" onchange="ImportParts()" accept=".xls,.xlsx" />
                                    <input type="button" id="btnimport" class="btn btn-flat btn-primary btn-sm" style="background-color: #3276b1" value="Import Parts" onclick="confirmImport();" />

                                </div>
                            }



                            <div class="pull-right" style="width: 35%; margin-top: 7px;">
                                 
                                    <button onclick="saveParts();" value="Submit" class="btn btn-flat btn-primary btn-sm" name="addLabour" id="saveb" tabindex="10" style="width: 49%">Save </button>
                                    <a href="#" class="btn btn-flat btn-default btn-sm" role="button" tabindex="11" id="Reset" style="width: 49%" onclick="ResetAll();">Clear </a>
                                    <button onclick="saveParts();" value="Submit" class="btn btn-flat btn-primary btn-sm" name="addLabour" id="updateb" tabindex="10" style="display:none; width: 49%">Update </button>
                                    <a href="#" class="btn btn-flat btn-default btn-sm" role="button" tabindex="11" style="width:49%;display:none;" id="Cancel" onclick="Cancel();">Cancel</a>
                                 
                            </div>
                            @if (ViewBag.distcompany == -1)
                            {
                                <div style="padding-top:50px">
                                    <label for="title"> <span style="color:#f00">Note:</span>  To properly import parts, part number and part category fields must not be empty. </label><br />
                                    <button style="display:none" data-toggle="modal" data-target="#failedreport" id="failedbtn" class="btn btn-primary">Click here for Failed Uploads Report</button>
                                </div>
                            }
                            else if (HttpContext.Current.User.IsInRole("Admin"))
                            {
                                <div style="padding-top:50px">
                                    <label for="title"> <span style="color:#f00">Note:</span>  To properly import parts, part number and part category fields must not be empty. </label><br />
                                    <button style="display:none" data-toggle="modal" data-target="#failedreport" id="failedbtn" class="btn btn-primary">Click here for Failed Uploads Report</button>
                                </div>
                            }

                        </div>
                        @if (Model.Part_Number != "" && Model.Part_Number != null)
                        {
                            <div class="panel-footer clearfix">

                                <div class="pull-left" style="font-size: x-small;">
                                    <div>
                                        <label style="color: #3D81BD !important;">Created By  : &nbsp @Model.Created_By on<span></span> @Model.Created_Date</label>

                                    </div>

                                </div>

                                <div class="pull-right" style=" font-size x-small;">
                                    <div>
                                        <label style="color: #3D81BD !important;">Updated By  : &nbsp @Model.Updated_By on<span></span> @Model.Updated_Date</label>

                                    </div>

                                </div>
                            </div>
                        }

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>