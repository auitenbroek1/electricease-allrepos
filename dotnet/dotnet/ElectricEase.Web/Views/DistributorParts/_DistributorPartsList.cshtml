
<style>
    .dataTables_filter {
        padding-bottom: 0px !important;
    }

    div.dataTables_length label {
        float: none !important;
    }
</style>


<div class="table table-responsive">
    <table id="ptexample" class="table table-bordered datatables" cellspacing="0" width="100%">
        <thead style="background-color: #45525F">
            <tr>
                <th>ID</th>
                <th>Distributor Name</th>
                <th>Part Category</th>
                <th>Description</th>
                <th>Part Number</th>
                <th>Cost</th>
                <th>Purchased From</th>
                <th>UOM</th>
                <th>Type</th>
                <th>Action</th>
            </tr>
        </thead>

        <tbody id="partsbody"></tbody>
    </table>
    <div id='bootomDistributorParts' tabindex='1'></div>
</div>
<script>
    var pagelen = 5;
    var dropdwn = document.getElementsByName('ptexample_length');
        var tab = $('#ptexample').DataTable({
        "order": [[0, "desc"]],
        "aoColumnDefs": [{ "bVisible": false, "aTargets": [0] }],
        "aLengthMenu": [[5, 10, 15, 25, 100], [5, 10, 15, 25,100]],
        "iDisplayLength": pagelen,
        "sDom": '<"top"flp>rt<"bottom"pri>',
        "tableTools": {
            "aButtons": [
                {
                    "sExtends": "copy",
                    "sButtonText": "Copy to clipboard"
                },
                {
                    "sExtends": "csv",
                    "sButtonText": "Save to CSV"
                },
                {
                    "sExtends": "xls",
                    "oSelectorOpts": {
                        page: 'current'
                    }
                }
            ]
        },
    "proccessing": true,
    "serverSide": true,
    "ajax": {
        url: "@Url.Action("PartsDatatable", "DistributorParts")" ,
        type: 'POST',
        contentType: "application/json",
        data: function (d) {
            d.extra_search = Cookies.get('distpartsfilter');
            return JSON.stringify(d);
        },
        dataSrc: function (json) {

            return json.data;
        }
            },
    "language": {
        "search": "",
        "searchPlaceholder": "Search..."
    },
   "columns": [
       { "mData": "ID" },
       { "mData": "Company", orderable: false },
       { "data": "Part_Category" },
       { "data": "Description" },
       { "data": "Part_Number" },
       { "data": "Cost" },
       { "data": "Purchased_From" },
       { "data": "UOM" },
       { "data": "Type" },
       {

           "data": function (o) {
               return '<a href="javascript: void (0);" onclick="editParts(\'' + o.Part_Number.trim().replace(/\\/g, "\\\\").replace("'", "\'") + '\',\'' + o.Distributor_ID + '\');">'+
                   '<span class="glyphicon glyphicon-pencil"></span>'+
                       '</a>&nbsp;&nbsp;&nbsp;'+
                   '<a class="confirm" id="alert" href="javascript: void (0);" onclick="deleteParts(\'' + o.Part_Number.trim().replace(/\\/g, "\\\\").replace("'", "\'") + '\',\'' + o.Distributor_ID + '\');">' +
                   '<span class="glyphicon glyphicon-trash"></span></a>';
           }, orderable: false
       }
    ]
    });

    $($('#ptexample_length')[0].parentElement).removeClass('col-md-6');
    $($('#ptexample_length')[0].parentElement).addClass('col-md-10');
    $(".dataTables_info").focus();
    $(dropdwn).change(function () {
        var len = this.value;
        Cookies.set('Partsdtpagelen', len);
    });
    $('#ptexample_filter input').on("keyup", function () {
        Cookies.set('Partsearch', $(this).val());
    });
    $('#ptexample').on('page.dt', function () {
        var info = this;
        setTimeout(function () {
            var ss = $('.paginate_button.active');
            var pgno = ss[0].innerText;
            if (pgno != "" && pgno != "0") {
                pgno = Number(pgno) - Number(1);
            }
            Cookies.set('partstpageno', pgno);
        }, 1000);

    });

</script>

<style>
    table#ptexample tr th:first-child {
        width: 137px;
    }

    table#ptexample tr th:nth-child(2) {
        width: 100px !important;
    }

    table#ptexample tr th:nth-child(4) {
        width: 110px !important;
    }
</style>